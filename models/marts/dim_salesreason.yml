version: 2

models:
  - name: dim_salesreason
    description: "Dimension table for sales reasons, linking sales orders with associated reasons and including a default 'No reason' record."
    columns:
      - name: reason_sk
        description: "Surrogate key generated by hashing salesreason_pk and order_fk. Unique for each sales reason."
        tests:
          - not_null
          - unique

      - name: salesreason_pk
        description: "Primary key for the sales reason. Defaults to 0 for the 'No reason' record."
        tests:
          - not_null

      - name: order_fk
        description: "Foreign key referencing the order associated with the sales reason. Defaults to 0 for the 'No reason' record."
        tests:
          - not_null

      - name: name_reason
        description: "Name of the sales reason. 'No reason' for the default record."

      - name: reasontype
        description: "Type of the sales reason (e.g., 'Promotion', 'Marketing Campaign'). Defaults to 'NA' for the default record."

      - name: modifieddate
        description: "Date when the sales reason record was last modified. NULL for the default record."

      - name: salesorderheadersalesreason_sk
        description: "Surrogate key linking sales order headers and sales reasons. A unique hash is generated for the default record."
        tests:
          - not_null
          - unique
